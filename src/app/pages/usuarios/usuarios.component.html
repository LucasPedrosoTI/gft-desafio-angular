<div class="container main-container">
  <header class="mt-5">
    <h1><i class="fas fa-users"></i> <strong class="mx-3">Usuários</strong></h1>
  </header>

  <app-filter
    [data]="usuarios"
    [page]="page"
    (dataChanged)="dataChangedHandler($event)"
  ></app-filter>

  <div class="card">
    <div class="card-body">
      <table class="table table-striped table-responsivee">
        <thead>
          <tr>
            <th>
              <button
                class="btn btn-default w-100"
                #nome
                (click)="handleSorting(nome.innerText)"
              >
                <strong>Nome</strong>
                <i
                  class="ml-2 fas"
                  *ngIf="sorting.sortedBy === 'nome'"
                  [ngClass]="{
                    'fa-chevron-up': sorting.sortOrder === 'desc',
                    'fa-chevron-down': sorting.sortOrder === 'asc'
                  }"
                ></i>
              </button>
            </th>
            <th>
              <button
                class="btn btn-default w-100"
                #username
                (click)="handleSorting(username.innerText)"
              >
                <strong>Username</strong>
                <i
                  class="ml-2 fas"
                  *ngIf="sorting.sortedBy === 'username'"
                  [ngClass]="{
                    'fa-chevron-up': sorting.sortOrder === 'desc',
                    'fa-chevron-down': sorting.sortOrder === 'asc'
                  }"
                ></i>
              </button>
            </th>
            <th>
              <button
                class="btn btn-default w-100"
                #email
                (click)="handleSorting(email.innerText)"
              >
                <strong>E-mail</strong>
                <i
                  class="ml-2 fas"
                  *ngIf="sorting.sortedBy === 'e-mail'"
                  [ngClass]="{
                    'fa-chevron-up': sorting.sortOrder === 'desc',
                    'fa-chevron-down': sorting.sortOrder === 'asc'
                  }"
                ></i>
              </button>
            </th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let usuario of usuariosFiltrados">
            <td>{{ usuario.name }}</td>
            <td>{{ usuario.username }}</td>
            <td>{{ usuario.email }}</td>
            <td>
              <button class="btn btn-default" (click)="open(usuario)">
                <i class="fas fa-search"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="card-footer">
        <app-pagination
          [data]="usuarios"
          [page]="page"
          (dataChanged)="dataChangedHandler($event)"
        ></app-pagination>
      </div>
    </div>
  </div>
</div>
